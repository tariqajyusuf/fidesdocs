import { Callout } from 'nextra-theme-docs'
import Screenshot from 'components/screenshot'


# Configuring email content

When managing privacy requests, it's important to keep consumers informed about the progress of their requests. This is typically done through email updates, which can be customized both in terms of content and appearance. The following instructions outline how to modify the email content for each request type.

<Callout emoji="" type="info">For steps to update the _style_ of these messages, please see our guide for [configuring email style](/user-guides/privacy-requests/configure-email/email-style).</Callout>

The following types of emails may be sent while processing privacy requests:
* [Subject identify verification](#subject-identity-verification): An email used to confirm the identity of a data subject.
* [Privacy request received](#privacy-request-received): An email sent to a data subject when a privacy request has been received.
* [Privacy request approved](#privacy-request-approved): An email sent to a data subject when a privacy request has been approved.
* [Privacy request denied](#privacy-request-denied): An email sent to a data subject when a privacy request has been denied, including the reason for the denial
* [Access request completed](#access-request-completed): An email sent to a data subject when an access request has been completed, including a link to download the package 
* [Erasure request completed](#erasure-request-completed): An email sent to a data subject when an erasure request has been completed


Below, you can see the default wording of each email and a description of the variables, if applicable. To update the content of the emails, please see the section for [configuring email content](#configure-email-content)


#### Subject identity verification

| Message                        | Details                     |
| -------------------------------- | -----------------------------
| **Description** | An email used to confirm the identity of a data subject |
| **Message subject** | _Your one-time code is `{{code}}`_ |
| **Message body** | _Your privacy request verification code is `{{code}}`. Please return to the Privacy Center and enter the code to continue. This code will expire in `{{minutes}}` minutes._ |
| **Available variables** | <ul><li>`{{code}}`: a variable automatically generated by Fides.</li><li>`{{minutes}}`: a variable that is set to 10m by default. For steps to update this value, please see the [section below](#configure-custom-values)</li></ul> |

#### Privacy request received

| Message                        | Details                     |
| -------------------------------- | -----------------------------
| **Description** | An email sent to a data subject when a privacy request has been received |
| **Message subject** | _Your privacy request has been received_ |
| **Message body** | _Your privacy request has been received. We will get back to you shortly._ |
| **Available variables** | -- |

#### Privacy request approved

| Message                        | Details                     |
| -------------------------------- | -----------------------------
| **Description** | An email sent to a data subject when a privacy request has been approved |
| **Message subject** | _Your privacy request has been approved_ |
| **Message body** | _Your privacy request has been approved and is currently processing._ |
| **Available variables** | -- |


#### Privacy request denied

| Message                        | Details                     |
| -------------------------------- | -----------------------------
| **Description** | An email sent to a data subject when a privacy request has been denied including the reason for the denial |
| **Message subject** | _Your privacy request has been denied_ |
| **Message body** | _Your privacy request has been denied. `{{denial_reason}}`._ |
| **Available variables** | <ul><li>`{{denial_reason}}`: the reason for denial as entered by the reviewer.</li></ul> |

#### Access request completed 

| Message                        | Details                     |
| -------------------------------- | -----------------------------
| **Description** | An email sent to a data subject when an access request has been completed including a link to download the package |
| **Message subject** | _Your data is ready to be downloaded_ |
| **Message body** | _Your access request has been completed and can be downloaded at `{{download_link}}`. For security purposes, this secret link will expire in `{{days}}` days._ |
| **Available variables** | <ul><li>`{{download_link}}`: the URL where the data package can be downloaded.</li><li>`{{days}}`:  a variable that is set to 5d by default. For steps to update this value, please see the [section below](#configure-custom-values)</li></ul> |

#### Erasure request completed 

| Message                        | Details                     |
| -------------------------------- | -----------------------------
| **Description** | An email sent to a data subject when an erasure request has been completed |
| **Message subject** | _Your data has been deleted_ |
| **Message body** | _Your erasure request has been completed._ |
| **Available variables** | -- |

## Configure email content


<Callout emoji="" type="info">Owner or Contributor access is required to change these values </Callout>

To update this information, please: 
1. Click on the gear icon in the upper-right of the Admin interface to visit the **Management** interface
2. Click on **Email templates** in the left-side navigation
3. Update the content to fit your business requirements

<Callout emoji="" type="warning">Please do not remove or edit the variables </Callout>

<Screenshot img="/docs/assets/img/privacy-requests/configure-email.gif" description="Configure email content" mw="500"/>



### Configure custom values 
In the following cases, a custom value can be configured to override the default setting. To change these settings, please set this via environment variable or in the `fides.toml` file. 

| Variable                        | Description                     | Default | 
| -------------------------------- | -----------------------------| -----------------------------|
| `FIDES__REDIS__IDENTITY_VERIFICATION_CODE_TTL_SECONDS` | Duration of subject identity verification code | 600 seconds (10 minutes)| 
| `FIDES__SECURITY__SUBJECT_REQUEST_DOWNLOAD_LINK_TTL_SECONDS` | Duration of access package download | 432,000 seconds (5 days)| 