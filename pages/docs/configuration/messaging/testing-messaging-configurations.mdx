import { Callout } from 'nextra-theme-docs'

# Testing Messaging Configurations

This document explains how to test your messaging provider configurations for Fides.

## Prerequisites

In order to complete this, you will need the following:
* A configured messaging provider. Read the [configuration messaging docs](overview).
* Fides OAuth access token with the following scopes. Read about [Fides Scopes](#LINK) here.
    * `messaging:create_or_update`: Create or update messaging configuration.


## Example: Send a Test Email

To send an email to test your messaging configuration, make a **POST** request to the `api/v1/messaging/config/test` endpoint as follows:

```console filename="PUT /api/v1/messaging/config/test"
curl '{{FIDES_URL}}/api/v1/messaging/config/test' \
-X POST \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer {{FIDES_ACCESS_TOKEN}}' \
-d '{
  "email": "{{RECIPIENT_EMAIL}}"
}'
```
In the above example `{{FIDES_URL}}` is the URL to your Fides server. The Authorization is Bearer and `{{FIDES_ACCESS_TOKEN}}` is your Fides access token. The request Content-Type is application/json.

The `{{RECIPIENT_EMAIL}}` is the recipient email address you would like to send a test email to.

The response to this request will confirm that a message has been successfully sent as shown below:

```json filename="Test Messaging Config Response"
HTTP/1.1 200 OK
Content-Type: application/json

{
    "details": "Test message successfully sent"
}
```
## Example: Send a Test SMS

To send an SMS to test your messaging configuration, make a **POST** request to the `api/v1/messaging/config/test` endpoint as follows:

```console filename="PUT /api/v1/messaging/config/test"
curl '{{FIDES_URL}}/api/v1/messaging/config/test' \
-X POST \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer {{FIDES_ACCESS_TOKEN}}' \
-d '{
  "phone_number": "{{RECIPIENT_PHONE}}"
}'
```
In the above example `{{FIDES_URL}}` is the URL to your Fides server. The Authorization is Bearer and `{{FIDES_ACCESS_TOKEN}}` is your Fides access token. The request Content-Type is application/json.

The `{{RECIPIENT_PHONE}}` is the recipient phone number in the format `+19178300000`

The response to this request will confirm that a message has been successfully sent as shown below:

```json filename="Test Messaging Config Response"
HTTP/1.1 200 OK
Content-Type: application/json

{
    "details": "Test message successfully sent"
}
```